<section class="container-fluid checkout flight-details-box">
    <div class="row">
        <div class="col-sm-9">
            <h3 class="fs-md bold inlineblock">
            <i class="fa fa-plane gray-light"></i>
            <span>{{searchmodel.from.name}}</span> &nbsp;
            <i class="fa fa-exchange ng-scope fa-long-arrow-right"></i>
			<i class="fa fa-plane fa-rotate-90 gray-light"></i>
			{{searchmodel.to.name}}
         </h3> &nbsp;
            <p class="fs-base inlineblock">
                <!--  <span class="ng-binding">{{searchmodel.departure}}</span>  --></p>
            <p class="fs-base inlineblock"> <span>Traveller(s) - </span> <span data-ng-if="searchmodel.adult">{{searchmodel.adult}} Adult(s)</span> <span data-ng-if="searchmodel.child">{{searchmodel.child}} Child/Children</span> <span data-ng-if="searchmodel.infant">{{searchmodel.infant}} Infant(s)</span> </p>
        </div>
    </div>
    <ul class="row list page-track">
        <li class="col-xs-4" ng-class="{'done':(searchmodel.showContainer=='review' || searchmodel.showContainer=='travellerDetails' || searchmodel.showContainer=='summary')}"> <span data-title="1">Review</span> </li>
        <li class="col-xs-4" ng-class="{'done':(searchmodel.showContainer=='travellerDetails' || searchmodel.showContainer=='summary')}"> <span data-title="2">Travellers</span> </li>
        <li class="col-xs-4" ng-class="{'done':searchmodel.showContainer=='summary'}"> <span data-title="3">Traveller Summary</span> </li>
    </ul>
</section>
<main class="container-fluid pad-sm-bottom">
    <div class="col-md-9" ng-if="searchmodel.showContainer=='review'">
        <div class="row">
            <div class="checkoutbox " style="font-size:0.9em">
                <h3 class="box-title fs-md normal">Review Your Booking&nbsp;
            </h3>
                <div class="box-content">
                    <div class="accordion-sm">
                        <div class="acc-content" data-ng-repeat="booked in searchmodel.bookDetails track by $index">
                            <article class="row review-article">
                                <div class="acc-title clearfix col-md-12">
                                    <h3 class="pull-left bold fs-xs text-uppercase margin-left-none review-title gray ng-binding">
                              <i class="fa fa-plane"></i>DEPARTURE
                           </h3>
                                    <p class="pull-right ng-binding">Total Time: {{booked.duration}} </p>
                                </div>
                                <div class="text-sm-center col-sm-2 text-xs-left">
                                    <p> <i class="L6E_sm logo pull-left {{booked.alias}}" style="float: none !important;display: inline-block;"></i> <span class="inlineblock ng-binding">{{booked.airlines}} <br>
                              <span class="fs-xs gray">{{booked.flightno}}</span> </span>
                                        <br class="hidden-xs-down"> </p>
                                </div>
                                <div class="col-sm-10">
                                    <div class="row">
                                        <div class="col-xs-6 col-md-3">
                                            <p class="ng-binding">{{searchmodel.from.name}}, {{searchmodel.from.state}}</p>
                                            <h3 class="fs-base bold gray-dark ng-binding">{{searchmodel.from.key | uppercase}}<span class="normal gray-light">&nbsp;|&nbsp;</span>{{booked.departure}}</h3>
                                            <p class="fs-sm gray ng-binding">{{searchmodel.departureDate | date : "dd MMM yyyy"}}
                                                <br><span class="ng-binding">{{searchmodel.originSummary.airport}}</span></p>
                                        </div>
                                        <div class="col-xs-6 col-md-push-6 col-md-3 sm-border-left">
                                            <p class="ng-binding">{{searchmodel.to.name}}, {{searchmodel.to.state}}</p>
                                            <h3 class="fs-base bold gray-dark">
                                    {{searchmodel.to.key | uppercase}}
                                    <span class="normal gray-light">&nbsp;|&nbsp;</span>{{booked.arrival}}
                                 </h3>
                                            <p class="fs-sm gray ng-binding">{{searchmodel.departureDate | date : "dd MMM yyyy"}}
                                                <br> <span>{{searchmodel.destinationSummary.airport}}</span> </p>
                                        </div>
                                        <div class="col-sm-12 text-center col-md-pull-3 col-md-6">
                                            <p> <i class="fa fa-clock-o"></i> &nbsp; {{booked.duration}} &nbsp;|&nbsp; Non Stop</p>
                                            <p class="hidden-sm-down two-dots"> <i class="fa fa-plane"></i> </p>
                                            <p> Economy&nbsp;|&nbsp;<span class="ref-ui">{{booked.refundable === true?'Refundable':'Non Refundable'}}</span> <span data-ng-if="booked.freemeals===true"> | Free Meals</span> </p>
                                        </div>
                                    </div>
                                </div>
                            </article>
                            </hr>
                            </hr>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="center-block text-center mt-1 mb-1 sticky-sm-bottom hide-under-overlay">
            <button class="button primary" ui-sref="searchflight" href="#/search">Back</button>
            <button class="button primary" ng-click="continueToNextPage();">Continue </button>
        </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12" ng-if="searchmodel.showContainer=='travellerDetails'">
        <div class="checkoutbox checkoutbox-margin">
            <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Traveller Details</span>
      </h3>
            <div class="box-content details-box">
                <div class="row">
                    <div ng-repeat="item in travellerInfo  track by $index">
                        <div class="col-lg-1 col-md-1 col-sm-3 col-xs-12 passenger-label"> {{item.type}} </div>
                        <div class="col-lg-2 col-md-1 col-sm-3 col-xs-12">
                            <select ng-model="item.title" style="width:90%">
                                <option value="" selected disabled>Title</option>
                                <option ng-repeat="items in item.titleList" value="{{items.name}}">{{items.name}}</option>
                            </select> <span style="color:red" ng-if="!item.title && continueClicked">Title is required. </span> </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <input type="text" ng-model="item.firstName" placeholder="First Name" class="form-control" /> <span style="color:red" ng-if="!item.firstName && continueClicked">First Name is required. </span> </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <input type="text" ng-model="item.middleName" placeholder="Middle Name" class="form-control" />
						</div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <input type="text" ng-model="item.lastName" placeholder="Last Name" class="form-control" /> <span style="color:red" ng-if="!item.lastName && continueClicked">Last Name is required. </span> </div>
                        <div class="clearfix"></div>
                        <div class="col-md-12">
                            <div class="horizontal-line"></div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-6"> Contact Details </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <input type="text" ng-model="searchmodel.mail" placeholder="Email" class="form-control" /> <span style="color:red" ng-if="!searchmodel.mail && continueClicked">Mail is required. </span> </div>
                    <div class="col-lg-2 col-md-2 col-sm-6 col-xs-12">
                        <select ng-model="searchmodel.code" style="width:100%">
                            <option value="" select disabled>Code</option>
                            <option value="+91">+91</option>
                            <option value="+354">+354</option>
                            <option value="+504">+504</option>
                        </select> <span style="color:red" ng-if="!searchmodel.code && continueClicked">Code is required. </span> </div>
                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                        <input type="text" ng-model="searchmodel.contact" placeholder="Mobile Number" style="width:100%" class="form-control" /> <span style="color:red" ng-if="!searchmodel.contact && continueClicked">Mobile Number is required. </span> </div>
                    <div class="clearfix"></div>
                    <div class="col-md-8 col-md-offset-2 col-lg-8 col-lg-offset-2 col-sm-12 col-xs-12">
                        <div class="read-only-text">Your booking details will be sent to this email address and mobile. </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="checkoutbox checkoutbox-margin">
            <div class="box-content details-box">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="fs-md bold checkbox-custom-margin"><i class="fa fa-umbrella"></i> Insurance</h3> </div>
                    <div class="col-md-12"> <span>
                            <input type="checkbox" ng-model="searchmodel.insurance" id="test1" />
                            </span> <span>
					Safeguard your trip with United India Insurance Co. Ltd.
					 </span>
                        <div class="font-size-xs"> Travel Insurance is highly recommended. View <a href="javascript:void(0)">Benefits</a> and <a href="javascript:void(0)">Terms & Conditions</a> <span class="read-only-text">Your booking details will be sent to this email address and mobile. </span> </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="checkoutbox checkoutbox-margin">
            <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Service Requests (Optional)</span> </h3>
            <div class="box-content details-box">
                <div class="row">
                    <div class="col-lg-2  col-md-2 col-sm-6 col-xs-12">
                        <button class="btn btn-u rounded" ng-click="mealSection=true;baggageSection=false">Add Meal(s) +</button>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <button class="btn btn-u rounded" ng-click="mealSection=false;baggageSection=true">Add Baggage +</button>
                    </div>
                </div>
            </div>
        </div>
		 <div class="checkoutbox checkoutbox-margin" ng-if="mealSection">
            <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Meal(s)</span> </h3>
					<div class="box-content details-box" ng-init="hideOlList()">
 							<div uib-carousel active="active"   style="width:350px">
							  <div uib-slide ng-repeat="slide in mealList track by $index" 
							  index="$index">
								<img ng-src="{{slide.imagePath}}" style="width:350px">
								<div class="carousel-caption">
								  <p style="color: white !important;">{{slide.name}} - {{slide.price}}</p>
								</div>
								<input type="checkbox" class="form-control" ng-model="searchmodel.mealDetails[$index]" data-ng-click="addMeals()" ng-true-value="{{slide}}"/> 
							  </div>
							</div>
     				</div>
        </div>
		
		<div class="checkoutbox checkoutbox-margin" ng-if="baggageSection">
            <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Baggage</span> </h3>
 						<div class="box-content details-box" ng-init="hideOlList()">
 							<div uib-carousel active="active"   style="width:350px">
							  <div uib-slide ng-repeat="slide in baggageList track by $index" 
							  index="$index">
								<img ng-src="{{slide.imagePath}}" style="width:350px">
								<div class="carousel-caption">
								  <p style="color: white !important;"> {{slide.weight}}</p>
								</div>
								<input type="checkbox" ng-click="unselectOther($index)" class="form-control" ng-model="searchmodel.baggageDetails[$index]" ng-true-value="{{slide}}"/> 
							  </div>
							</div>
     				</div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <button class="button primary" ng-click="continueClicked=false;backToReview()">Back</button>
                <button class="button primary" ng-click="continueClicked=true;goToSummary()">Continue</button>
            </div>
        </div>
    </div>
    <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12" ng-if="searchmodel.showContainer=='summary'">
        <div class="checkoutbox checkoutbox-margin">
            <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Travel Summary</span>
      </h3>
            <div class="box-content details-box">
                <div class="row">
                    <div ng-repeat="item in travellerInfo">
                        <div> {{item.text}}: {{item.title}} {{item.firstName}} {{item.middleName}} {{item.lastName}} </div>
                    </div>
                    <div>Contact: {{searchmodel.code}} {{searchmodel.contact}}</div>
                    <div>Mail ID: {{searchmodel.mail}}</div>
                    <div>Travel From: {{searchmodel.originSummary.origin}},{{searchmodel.originSummary.country}} Airport: {{searchmodel.originSummary.airport}}</div>
                    <div>Travel To: {{searchmodel.destinationSummary.destination}},{{searchmodel.destinationSummary.country}} Airport: {{searchmodel.destinationSummary.airport}}</div>
                    <div>Insurance: <span ng-show="searchmodel.insurance">Selected</span><span ng-show="!searchmodel.insurance">Not Selected</span></div>
                    <div>Meal(s):<span ng-repeat="item in searchmodel.meal"> {{$index+1}} - {{item.name}} : {{item.price}} <br> </span> </div>
                    <div>Baggage: {{searchmodel.baggage.weight}}</div>
                  </div>
            </div>
        </div>
        <div class="checkoutbox checkoutbox-margin">
            <!-- <div class="box-content details-box">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="fs-md bold checkbox-custom-margin"><i class="fa fa-umbrella"></i> Insurance</h3> </div>
                    <div class="col-md-12"> <span>
                            <input type="checkbox" id="test1" />
                            </span> <span>
					Safeguard your trip with United India Insurance Co. Ltd.
					 </span>
                        <div class="font-size-xs"> Travel Insurance is highly recommended. View <a href="javascript:void(0)">Benefits</a> and <a href="javascript:void(0)">Terms & Conditions</a> <span class="read-only-text">Your booking details will be sent to this email address and mobile. </span> </div>
                    </div>
                </div>
            </div> --></div>
        <div class="checkoutbox checkoutbox-margin">
            <!--  <h3 class="box-title normal clearfix ">
                    <span class="pull-left fs-md">Service Requests (Optional)</span> </h3>
            <div class="box-content details-box">
                <div class="row">
                    <div class="col-lg-2  col-md-2 col-sm-6 col-xs-12">
                        <button class="btn btn-u rounded">Add Meals +</button>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <button class="btn btn-u rounded">Add Baggage +</button>
                    </div>
                </div>
            </div> --></div>
        <div class="row">
            <div class="col-md-12 text-center">
                <button class="button primary" ng-click="continueClicked=false;backTosearchmodel()">Back</button>
                <button class="button primary" ng-click="submitBooking()">Submit</button>
            </div>
        </div>
    </div>
    <fare-details searchmodel="searchmodel"></fare-details>
    </div>
</main>
<!-- 
<login-popup next-page="nextPage"></login-popup> -->